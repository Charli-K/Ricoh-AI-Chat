<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Knowledge Bases - Ricoh AI</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="stylesheet" href="./knowledge-bases.css" />
  <link rel="stylesheet" href="./dark-mode.css" />
</head>

<body>
  <section class="logo">
    <button class="menu-toggle-btn" id="menuToggleBtn" onclick="toggleMenu()">
      <span class="menu-toggle-icon"><img src="assets/menu.png" style="width: 15px; height: auto;" /></span>
    </button>
    <a href="index.html" style="cursor: pointer;"><img src="assets/Ricoh_Logo.png" alt="Ricoh Logo" /></a>
  </section>
  <header class="header" id="mainHeader">
    <nav class="nav-menu">
      <button class="nav-btn" onclick="window.location.href='index.html'" data-tooltip="Dashboard"><img
          src="assets/dashboard.png" alt="Dashboard" width="30" /></button>
      </button>
      <button class="nav-btn" onclick="window.location.href='Knowledge_Bases.html'" data-tooltip="Knowledge Bases"><img
          src="assets/book.png" alt="Knowledge Bases" width="30" /></button>
      <button class="nav-btn" onclick="window.location.href='AI Chat.html'" data-tooltip="AI Chat"><img
          src="assets/chatbot.png" alt="AI Chat" width="30" /></button>
      <button class="nav-btn" onclick="window.location.href='ocr.html'" data-tooltip="OCR"><img src="assets/ocr.png" alt="OCR"
          width="30" /></button>
      <button class="nav-btn" data-tooltip="Configuration"><img src="assets/setting.png" alt="Configuration"
          width="30" /></button>
      <button class="nav-btn" onclick="window.location.href='#'" data-tooltip="Report"><img src="assets/file.png"
          alt="Report" width="30" /></button>
    </nav>
    <button class="theme-toggle" id="themeToggle" onclick="toggleDarkMode()" data-tooltip="Toggle Light / Dark Mode">
      <span class="theme-icon"><img src="assets/crescent-moon.png" alt="Toggle Theme" width="20" /></span>
    </button>
    <div class="user-menu" data-tooltip="Profile"><img src="assets/user.png" alt="User Profile" width="30" /></div>
    <button class="nav-btn" onclick="window.location.href='#'" data-tooltip="Logout">Logout</button>
    </button>
  </header>

  <div class="container">

    <main class="main-content">
      <div class="kb-header">
        <div>
          <h1>Knowledge Bases</h1>
          <p class="kb-subtitle">Manage AI chat knowledge bases for intelligent responses</p>
        </div>
        <button class="btn-create-kb" id="createKbBtn">
          <span class="btn-icon">+</span>
          Create Knowledge Base
        </button>
      </div>

      <div class="kb-search-bar">
        <div class="kb-filter">
          <label>Sort by:</label>
          <select id="kbSort">
            <option value="name">Name</option>
            <option value="created">Created Date</option>
            <option value="modified">Modified Date</option>
          </select>
          <input type="search" id="kbSearch" placeholder="Search knowledge bases..." />
        </div>
      </div>

      <div class="kb-grid" id="kbGrid">
      </div>
    </main>
  </div>

  <div class="kb-modal" id="kbModal">
    <div class="kb-modal-content">
      <div class="kb-modal-header">
        <h2 id="modalTitle">Create Knowledge Base</h2>
        <button class="kb-modal-close" id="modalClose">×</button>
      </div>
      <form id="kbForm" class="kb-form">
        <input type="hidden" id="kbId" />

        <div class="form-group">
          <label for="kbName">Knowledge Base Name *</label>
          <input type="text" id="kbName" required placeholder="Enter knowledge base name" />
        </div>

        <div class="form-group">
          <label for="kbDescription">Description</label>
          <textarea id="kbDescription" rows="4"
            placeholder="Describe the purpose and content of this knowledge base"></textarea>
        </div>

        <div class="form-group">
          <label for="kbCategory">Tag</label>
          <select id="kbCategory">
            <option value="general">General</option>
            <option value="technical">Technical</option>
            <option value="product">Product Information</option>
            <option value="support">Customer Support</option>
            <option value="policy">Policies & Procedures</option>
            <option value="other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label for="kbStatus">Status</label>
          <select id="kbStatus">
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
            <option value="draft">Draft</option>
          </select>
        </div>

        <div class="form-group">
          <label>Documents</label>
          <div class="file-upload-area" id="fileUploadArea">
            <input type="file" id="fileInput" multiple accept=".pdf,.doc,.docx,.txt,.xlsx,.xls,.ppt,.pptx"
              style="display: none;" />
            <div class="upload-placeholder" id="uploadPlaceholder">
              <div class="upload-text">Click or drag files here to upload</div>
              <div class="upload-subtext">Supported: PDF, DOC, DOCX, TXT, XLSX, XLS, PPT, PPTX</div>
            </div>
          </div>
          <div class="uploaded-files" id="uploadedFiles"></div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-cancel" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn-save">Save</button>
        </div>
      </form>
    </div>
  </div>

  <div class="kb-modal" id="deleteModal">
    <div class="kb-modal-content kb-modal-small">
      <div class="kb-modal-header">
        <h2>Delete Knowledge Base</h2>
        <button class="kb-modal-close" id="deleteModalClose">×</button>
      </div>
      <div class="kb-modal-body">
        <p>Are you sure you want to delete "<span id="deleteKbName"></span>"?</p>
        <p class="warning-text">This action cannot be undone.</p>
      </div>
      <div class="form-actions">
        <button type="button" class="btn-cancel" id="cancelDeleteBtn">Cancel</button>
        <button type="button" class="btn-delete" id="confirmDeleteBtn">Delete</button>
      </div>
    </div>
  </div>

  <div class="kb-modal" id="detailModal">
    <div class="kb-modal-content">
      <div class="kb-modal-header">
        <h2>Knowledge Base Details</h2>
        <button class="kb-modal-close" id="detailModalClose">×</button>
      </div>
      <div class="kb-modal-body" style="padding: 20px;">
        <div style="margin-bottom: 20px;">
          <h3 style="margin: 0 0 10px 0; font-size: 24px;" id="detailKbName"></h3>
          <div style="display: flex; gap: 10px; margin-bottom: 10px;">
            <span class="kb-card-category" id="detailKbCategory" style="display: inline-block;"></span>
            <span class="kb-card-status" id="detailKbStatus" style="display: inline-block;"></span>
          </div>
        </div>

        <div style="margin-bottom: 20px;">
          <label style="font-weight: 600; display: block; margin-bottom: 5px;">Description:</label>
          <p style="margin: 0; color: #666;" id="detailKbDescription"></p>
        </div>

        <div style="margin-bottom: 20px;">
          <label style="font-weight: 600; display: block; margin-bottom: 5px;">Path:</label>
          <p style="margin: 0;"><a href="https://apps.ricohsolution.com.hk:1443/laserfiche/#?id=1" target="_blank"
              style="text-decoration: none;" id="detailKbPath"></a></p>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
          <div>
            <label style="font-weight: 600; display: block; margin-bottom: 5px;">Created:</label>
            <p style="margin: 0; color: #666;" id="detailKbCreated"></p>
          </div>
          <div>
            <label style="font-weight: 600; display: block; margin-bottom: 5px;">Modified:</label>
            <p style="margin: 0; color: #666;" id="detailKbModified"></p>
          </div>
        </div>

        <div>
          <label style="font-weight: 600; display: block; margin-bottom: 10px;">Documents:</label>
          <div id="detailKbDocuments"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="./knowledge-bases.js"></script>
</body>

</html>